# 1129 4ì£¼ì°¨ í™”ìš”ì¼

ì§€ê¸ˆ ì €ë²ˆì£¼ ê¸ˆ ì¼ ì›” í™” ëª°ì•„ì„œ ì“°ê³  ìˆì–´ì„œ ì •ì‹  ì—†ëŠ” í¸. ê·¸ë ‡ì§€ë§Œ ê½¤ í™€ê°€ë¶„í•´!

## 1 on 1

goëŠ” classê°€ ì—†ë‹¤. ëŒ€ì‹  structê°€ ìˆê³  ì–´ë–¤ structë¥¼ receiverë¡œ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ 

goê°€ ìµìˆ™í•˜ì§€ ì•Šì€ ë‚˜ì—ê²ŒëŠ” ê°€ë…ì„±ì´ 0ì¸ ëŠë‚Œ. íŒŒì¼ì„ ë¶„ë¦¬í• ê¹Œ new lineìœ¼ë¡œ êµ¬ë¶„ì„ í• ê¹Œ ê³ ë¯¼í–ˆë‹¤ê³  ê³ ë¯¼ì„ í•´ë³´ê³  ì§ì ‘ ë¦¬íŒ©í† ë§ í•´ë³´ê² ë‹¤ê³  í•˜ì…¨ë‹¤.

## ì—…ë¬´

ì €ë²ˆì— ê·œëª¨ê°€ í° PRì„ ë‹¤ë£¨ê³  ìˆì–´ì„œ í˜ë“¤ë‹¤ê³  ì ì—ˆëŠ”ë° ê·¸ê±¸ ì‘ì€ ì¼ë¡œ ë‚˜ëˆ ì„œ PRë¡œ ì˜¬ë ¤ë‹¬ë¼ê³  í•˜ì…¨ë‹¤. 

jira issueë¡œ í˜„ì¬ ìƒí™©ì„ ì„¤ëª…í•˜ê³  í•´ì•¼í•˜ëŠ” ì´ìœ ë¥¼ ì„¤ëª…í•˜ê³  ì‘ì€ ë‹¨ìœ„ë¡œ PRì„ ì˜¬ë ¸ë‹¤.

ë°˜ë³µí•˜ë‹¤ë³´ë‹ˆ ì¼í•˜ëŠ” ë°©ë²•ì„ ì¡°ê¸ˆ ì•Œê² ë‹¤. ê·¸ë¦¬ê³  ì†ë„ë„ ë¹ ë¥´ê²Œ í•˜ë ¤ê³  ë…¸ë ¥í–ˆë‹¤. ë³´í†µ ì ì‹¬ ë¨¹ê³  2ì‹œê¹Œì§€ëŠ” ë­”ê°€ ì‹œê°„ì„ ë²„ë¦°ë‹¤ëŠ” ìƒê°ì„ ë§ì´ í–ˆëŠ”ë° ë°€ë„ ìˆê²Œ ì­‰ì­‰ ë‚˜ì•„ê°„ ê²ƒ ê°™ë‹¤.

ê¸ˆìš”ì¼ ì €ë…ì— êµ‰ì¥íˆ í”¼ê³¤í•˜ê²Œ ì¼í•˜ê³  í† ìš”ì¼ ì˜¤ì „ì— ê³µìœ í•˜ê¸° ìœ„í•´ ì˜¬ë ¸ë˜ PRì´ ì˜¤ëŠ˜ë¡œì¨ ëª¨ë“  í”¼ë“œë°±ì„ ê±°ì¹˜ê³  ë¨¸ì§€ê°€ ë˜ì—ˆë‹¤! ğŸ¥³ 

ë” ìì„¸íˆ ë§í•˜ë©´, í•„ìš”í•œ ê¸°ëŠ¥ì— ëŒ€í•´ì„œ wrapperë¥¼ ë§Œë“œëŠ” ì‘ì—…ì„ í•˜ê³  3ê°€ì§€ì— ëŒ€í•´ì„œ AWS DynamoDb SDKë¥¼ êµ¬í˜„í•œ wrapperë¡œ ë³€ê²½í•˜ëŠ” ì‘ì—…ì´ ëë‚¬ë‹¤.

ì´ì   ì§„ì§œ unit testë¥¼ ì‘ì„±í•´ì•¼ í•œë‹¤. jira issueë¥¼ ì‘ì„±í•´ë‘ì—ˆê³  ë‚´ì¼ì€ í…ŒìŠ¤íŠ¸ë¥¼ ì§œë©´ ëœë‹¤!

ì¡°ê¸ˆì€ í™€ê°€ë¶„í•œ ê¸°ë¶„ =.=

## ê¸°ìˆ ì 

### go interface ë¶„ë¦¬ ê¸°ì¤€

compile timeì— ì˜¤ë¥˜ê°€ ì¡íˆë„ë¡ í•˜ê¸° ìœ„í•´

DynamoDb SDKì—ëŠ” ì—¬ëŸ¬ attribute, conditionë“¤ì´ ìˆëŠ”ë°

put, delete ë“± í†µìš©ë˜ì–´ ì‚¬ìš©í•˜ëŠ” conditionexpressionì´ ìˆê³  QueryItems ì—ëŠ” queryfilterë¥¼ ì‚¬ìš©í•˜ê³  updateì—ì„œëŠ” updateexpressionì„ ê¼­ ì¸ìë¡œ ìˆì–´ì•¼ í•œë‹¤.

ê·¸ëŸ°ë° ë§‰ìƒ ë“¤ì—¬ë‹¤ë³´ë©´ key-value í˜•íƒœë¡œ ë¹„ìŠ·í•´ë³´ì¸ë‹¤. í•˜ì§€ë§Œ ë‹¤ë¥´ë‹¤. (keynameìœ¼ë¡œë§Œ ìˆê¸°ë„ í•˜ì§€ë§Œ)

goì—ì„œ interfaceê°€ ìˆëŠ”ë° êµ¬í˜„ì²´ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì„ structë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  interfaceì— ëª…ì‹œëœ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•˜ë©´ êµ¬í˜„ì²´ê°€ ëœë‹¤. ê¸°ìˆ  ë¸”ë¡œê·¸ê°€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì´ ì •ë„ë¡œë§Œ ì ê² ë‹¤.


```golang
type Condition interface {
  Expression() string
}

type Filter interface {
  Expression() string
}

type UpdateAction interface {
  Expression() string
}
```

ê·¸ë˜ì„œ ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ê²°êµ­ conditionì˜ êµ¬í˜„ì²´ì¸ì§€, filterì˜ êµ¬í˜„ì²´ì¸ì§€, updateactionì˜ êµ¬í˜„ì²´ì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤. ê·¸ë˜ì„œ êµ¬ë³„í•˜ê¸° ìœ„í•´ì„œ êµ¬í˜„ì„ ê°•ì œí•˜ëŠ” ë©”ì„œë“œì˜ ì´ë¦„ì„ ë‹¤ë¥´ê²Œ í•´ì£¼ì–´ì•¼ í•œë‹¤.

```golang
type Condition interface {
  ConditionExpression() string
}

type ConditionImpl struct {
  key:   string
  value: string
}

func NewConditionImpl(key string, value string) *ConditionImpl {
  return &ConditionImpl{
    key:   key
    value: value
  }
}

// receiverì¸ NewConditionImpl, receiverë¡œ ë“±ë¡ë˜ì–´ ìˆìœ¼ë©´ í•´ë‹¹ structë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ methodê°€ ë¨.
func (condition *NewConditionImpl)ConditionExpression() string {
  return "condition: {" + condition.key + ", " + condition.value + "}"
}
```

### ë³€ìˆ˜ëª… ê³ ë¯¼, ì˜ì–´ comment, ì„¤ëª… ê³ ë¯¼: sourcegraph

https://about.sourcegraph.com/

### Go line length

go style guide: https://github.com/uber-go/guide/blob/master/style.md

goëŠ” line lengthë¥¼ ì—„ê²©í•˜ê²Œ ì§€í‚¤ì§„ ì•Šì§€ë§Œ ì§§ê²Œ ê°€ì ¸ê°€ê³  ì‹¶ìŒ.

### flatten

ìµœëŒ€í•œ ì•ˆ ìˆ¨ê¸°ê³  ì‹¶ìŒ.

directoryë¡œ ë‚˜ëˆ„ê³  ì‹¶ì§€ ì•ŠìŒ. ì„œë¡œ flatí•˜ê²Œ, ë³´ì´ê¸° ì‰½ê²Œ í•˜ê³  ì‹¶ìŒ.

errorcaseëŠ” í•œ íŒŒì¼ì—ì„œ ê´€ë¦¬í•˜ê³  ì‹¶ê³ ...

í•˜ì§€ë§Œ í•œ íŒŒì¼ì—ì„œ ì‘ì„±í•˜ë‹¤ë³´ë‹ˆ ë˜ ìƒì¶©ë¨ -> í•´ê²°í•´ë³´ì‹ ë‹¤ê³  refactoring 

### go ì˜ì¡´ì„± ì„¤ì¹˜ ë°©ë²•

1. ì„¤ì¹˜
```
go get github.com/imdario/mergo
```

go.mod, go.sum íŒŒì¼ì— ì¶”ê°€ë¨.

2. bazel build toolì— ë°˜ì˜

gzuëŠ” ê°œì¸ì ìœ¼ë¡œ ë§Œë“  aliasì´ë‹¤.

```
bazel run //:gazelle; bazel run //:gazelle-update-repos; bazel run //:gazelle
```

ê·¼ë° gazelleì€ ë˜ ë­ì§€...? ê°€ì ¤ì´ë¼ê³  ë°œìŒí•œë‹¤.

### alias ë§Œë“œëŠ” ë²•

home directory(~)ì— .zsh_jueun íŒŒì¼ì€ ë§Œë“¤ê³  aliasë¥¼ ì ëŠ”ë‹¤.

```
alias gzu="bazel run //:gazelle; bazel run //:gazelle-update-repos; bazel run //:gazelle"
```

.zshrc íŒŒì¼ì— ì•„ë˜ì™€ ê°™ì´ ì ê³  source ëª…ë ¹ì–´ë¡œ ì—…ë°ì´íŠ¸í•´ì£¼ê³  terminalì„ í•œ ë²ˆ ê»ë‹¤ ì¼œëŠ” ë“± ë¦¬í”„ë ˆì‰¬ ì‘ì—…ì„ í•´ì£¼ë©´ ì ìš©ë˜ëŠ” ê²ƒ ê°™ë‹¤.

```
source ~/.zsh_jueun
```

### argument nil ì£¼ì„

c++ google style guideì—ì„œëŠ”...

```c++
func (/* {argumentname}= */ nil)
```

java google style guideì—ì„œëŠ”...

```java
func (/*{argumentname}=*/ nil)

```
